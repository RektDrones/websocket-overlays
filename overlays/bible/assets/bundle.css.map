{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../src/App.svelte",
    "../src/Keypad.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount, onDestroy } from \"svelte\";\n  import { doConnect, doDisconnect, sendCommand } from \"./websocket-client.js\";\n  import Keypad from \"./Keypad.svelte\";\n  import seb from \"./seb.json\";\n\n  let shown = false;\n  let line1 = '';\n  let line2 = '';\n\n  let books = seb.books.filter(book => book.category != 'deut');\n  let booksByAbbr = new Map();\n  books.forEach(book => {booksByAbbr[book.abbreviation] = book});\n\n  let bookFilter = \"\";\n  let selectedBook = \"gn\";\n  let book;\n\n  let selectedChapter = 1;\n  let selectedVerse = 1;\n\n  $: filteredBooks = bookFilter\n    ? books.filter(book => {\n        const prefix = bookFilter.toLowerCase();\n        const bookLower = book.name.toLowerCase();\n        return (\n          bookLower.startsWith(prefix) ||\n          book.abbreviation.startsWith(prefix) ||\n          (book.aliases && book.aliases.some(a => a.toLowerCase().startsWith(prefix))) ||\n          (prefix.length >= 2 && bookLower.includes(' '+prefix))\n        );\n      })\n    : books;\n\n  $: book = booksByAbbr[selectedBook];\n  $: line1 = book.name + ' ' + selectedChapter + (selectedVerse ? ','+selectedVerse : '');\n  $: line2 = book.chapters[selectedChapter] ? book.chapters[selectedChapter][selectedVerse] || '' : '';\n\n  onMount(async () => {\n    doConnect(onMessage);\n  });\n\n  onDestroy(async () => {\n    doDisconnect();\n  });\n\n  function toggleLine() {\n    shown = !shown;\n    sendCommand({\n      line1: line1,\n      line2: line2,\n      book: selectedBook,\n      chapter: selectedChapter,\n      verse: selectedVerse,\n      show: shown\n    });\n  }\n\n  function onMessage(data) {\n    console.log(data);\n    if (data.hasOwnProperty(\"shown\")) {\n      shown = data.shown;\n    }\n    if (data.hasOwnProperty(\"book\")) {\n      selectBook = data.book;\n    }\n    if (data.hasOwnProperty(\"chapter\")) {\n      selectedChapter = data.chapter;\n    }\n    if (data.hasOwnProperty(\"verse\")) {\n      selectedVerse = data.vers;\n    }\n  }\n\n  function selectBook(book) {\n    selectedBook = book.abbreviation;\n    selectedChapter = '';\n    selectedVerse = '';\n  }\n</script>\n\n<style>\n  .control-button {\n    width: 6rem;\n    float: right;\n  }\n  .books-filter {\n    display: block;\n    width: 50%;\n    padding: 0;\n    height: 10rem;\n    overflow: scroll;\n  }\n  .books-filter button {\n    width: 100%;\n    margin: 0;\n    padding: 0.5rem;\n    text-align: left;\n  }\n  .vers,\n  .address {\n    color: white;\n  }\n  :global(body) {\n    color: white;\n  }\n</style>\n\n<input\n  class=\"form-control\"\n  type=\"text\"\n  placeholder=\"filter\"\n  bind:value={bookFilter} />\n<div class=\"books-filter\">\n  {#each filteredBooks as book}\n  <button class=\"btn btn-primary\" class:btn-success={book.abbreviation==selectedBook} on:click={selectBook(book)}>{book.name}</button>\n  {/each}\n</div>\n\nKapitola: {selectedChapter}\n<Keypad bind:value={selectedChapter} />\nVerš: {selectedVerse}\n<Keypad bind:value={selectedVerse} />\n\n<button class=\"control-button btn\" on:click={toggleLine} class:btn-danger={shown} class:btn-primary={!shown}>\n  {#if shown}Skryť{:else}Zobraziť{/if}\n</button>\n<div class=\"address\">{line1}</div>\n<span class=\"vers\">\n  {@html line2}\n</span>\n\n",
    "<script>\n  import { createEventDispatcher } from \"svelte\";\n\n  export let value = \"\";\n\n  const dispatch = createEventDispatcher();\n\n  const select = num => () => (value = +value * 10 + num);\n  const decrement = () => (value = Math.max(1, +value - 1));\n  const increment = () => (value = +value + 1);\n  const clear = () => (value = \"\");\n  const deleteLast = () => (value = Math.floor(+value / 10));\n</script>\n\n<style>\n  .keypad {\n    display: grid;\n    grid-template-columns: repeat(7, 3rem);\n    grid-template-rows: repeat(2, 3rem);\n    grid-gap: 0.2rem;\n    margin: 0 0 0.5rem 0;\n  }\n\n  button {\n    margin: 0;\n    line-height: 2rem;\n    width: 3rem;\n  }\n</style>\n\n<div class=\"keypad\">\n  <button class=\"btn btn-primary\" on:click={deleteLast} disabled={!value}>←</button>\n  <button class=\"btn btn-primary\" on:click={increment}>↑</button>\n  <button class=\"btn btn-primary\" on:click={select(1)}>1</button>\n  <button class=\"btn btn-primary\" on:click={select(2)}>2</button>\n  <button class=\"btn btn-primary\" on:click={select(3)}>3</button>\n  <button class=\"btn btn-primary\" on:click={select(4)}>4</button>\n  <button class=\"btn btn-primary\" on:click={select(5)}>5</button>\n\n  <button class=\"btn btn-primary\" on:click={clear} disabled={!value} >C</button>\n  <button class=\"btn btn-primary\" on:click={decrement} disabled={value <= 1}>↓</button>\n  <button class=\"btn btn-primary\" on:click={select(6)}>6</button>\n  <button class=\"btn btn-primary\" on:click={select(7)}>7</button>\n  <button class=\"btn btn-primary\" on:click={select(8)}>8</button>\n  <button class=\"btn btn-primary\" on:click={select(9)}>9</button>\n  <button class=\"btn btn-primary\" on:click={select(0)}>0</button>\n</div>\n"
  ],
  "names": [],
  "mappings": "AAkFE,eAAe,eAAC,CAAC,AACf,KAAK,CAAE,IAAI,CACX,KAAK,CAAE,KAAK,AACd,CAAC,AACD,aAAa,eAAC,CAAC,AACb,OAAO,CAAE,KAAK,CACd,KAAK,CAAE,GAAG,CACV,OAAO,CAAE,CAAC,CACV,MAAM,CAAE,KAAK,CACb,QAAQ,CAAE,MAAM,AAClB,CAAC,AACD,4BAAa,CAAC,MAAM,eAAC,CAAC,AACpB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,MAAM,CACf,UAAU,CAAE,IAAI,AAClB,CAAC,AACD,oBAAK,CACL,QAAQ,eAAC,CAAC,AACR,KAAK,CAAE,KAAK,AACd,CAAC,AACO,IAAI,AAAE,CAAC,AACb,KAAK,CAAE,KAAK,AACd,CAAC;AC1FD,OAAO,cAAC,CAAC,AACP,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CACtC,kBAAkB,CAAE,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CACnC,QAAQ,CAAE,MAAM,CAChB,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,AACtB,CAAC,AAED,MAAM,cAAC,CAAC,AACN,MAAM,CAAE,CAAC,CACT,WAAW,CAAE,IAAI,CACjB,KAAK,CAAE,IAAI,AACb,CAAC"
}