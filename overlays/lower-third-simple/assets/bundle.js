var app=function(){"use strict";function n(){}function t(n){return n()}function e(){return Object.create(null)}function o(n){n.forEach(t)}function r(n){return"function"==typeof n}function c(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function i(n,t){n.appendChild(t)}function l(n,t,e){n.insertBefore(t,e||null)}function u(n){n.parentNode.removeChild(n)}function s(n){return document.createElement(n)}function a(n){return document.createTextNode(n)}function f(){return a(" ")}function d(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function h(n,t,e){null==e?n.removeAttribute(t):n.setAttribute(t,e)}function p(n,t){(null!=t||n.value)&&(n.value=t)}let g;function $(n){g=n}function m(){if(!g)throw new Error("Function called outside component initialization");return g}const v=[],y=[],_=[],b=[],w=Promise.resolve();let x=!1;function E(n){_.push(n)}function O(){const n=new Set;do{for(;v.length;){const n=v.shift();$(n),S(n.$$)}for(;y.length;)y.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];n.has(e)||(e(),n.add(e))}_.length=0}while(v.length);for(;b.length;)b.pop()();x=!1}function S(n){n.fragment&&(n.update(n.dirty),o(n.before_update),n.fragment.p(n.dirty,n.ctx),n.dirty=null,n.after_update.forEach(E))}const C=new Set;function k(n,t){n.$$.dirty||(v.push(n),x||(x=!0,w.then(O)),n.$$.dirty=e()),n.$$.dirty[t]=!0}function N(c,i,l,u,s,a){const f=g;$(c);const d=i.props||{},h=c.$$={fragment:null,ctx:null,props:a,update:n,not_equal:s,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:null};let p=!1;var m,v,y;h.ctx=l?l(c,d,(n,t,e=t)=>(h.ctx&&s(h.ctx[n],h.ctx[n]=e)&&(h.bound[n]&&h.bound[n](e),p&&k(c,n)),t)):d,h.update(),p=!0,o(h.before_update),h.fragment=u(h.ctx),i.target&&(i.hydrate?h.fragment.l((y=i.target,Array.from(y.childNodes))):h.fragment.c(),i.intro&&((m=c.$$.fragment)&&m.i&&(C.delete(m),m.i(v))),function(n,e,c){const{fragment:i,on_mount:l,on_destroy:u,after_update:s}=n.$$;i.m(e,c),E(()=>{const e=l.map(t).filter(r);u?u.push(...e):o(e),n.$$.on_mount=[]}),s.forEach(E)}(c,i.target,i.anchor),O()),$(f)}class I{$destroy(){var t,e;e=1,(t=this).$$.fragment&&(o(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=n}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(){}}let T;WEBSOCKET_URI=WEBSOCKET_URI||"ws://127.0.0.1:8089/";let B=!1,L=0,W=!1;function j(n){console.log(JSON.stringify(n)),B?T.send(JSON.stringify(n)):console.err("Not connected\n")}function A(n){(T=new WebSocket(WEBSOCKET_URI)).onopen=function(n){B=!0,console.info("Connection opened"),clearInterval(L),L=0},T.onclose=function(n){B=!0,L||W?W&&(W=!1):L=setInterval(A,5e3),console.info("Connection closed")},T.onmessage=function(t){var e=JSON.parse(t.data);console.log(t.data),n(e)},T.onerror=function(n){console.error("Connection failed, is the Server running?"),B=!1,L||(L=setInterval(A,5e3))}}function J(n,t,e){const o=Object.create(n);return o.line=t[e],o.each_value=t,o.i=e,o}function K(n){var t;return{c(){t=a("Show")},m(n,e){l(n,t,e)},d(n){n&&u(t)}}}function P(n){var t;return{c(){t=a("Hide")},m(n,e){l(n,t,e)},d(n){n&&u(t)}}}function R(n){var t,e,r,c,a,g,$;function m(){n.input_input_handler.call(e,n)}function v(...t){return n.change_handler(n,...t)}function y(n,t){return t.shown===t.i?P:K}var _=y(0,n),b=_(n);function w(...t){return n.click_handler(n,...t)}return{c(){t=s("div"),e=s("input"),r=f(),c=s("button"),b.c(),g=f(),h(e,"class","form-control"),h(e,"type","text"),h(e,"placeholder","Text"),h(c,"class",a="form-control btn "+(n.shown===n.i?"btn-danger":"btn-primary")+" control-button svelte-12wxbio"),h(t,"class","input-group"),$=[d(e,"input",m),d(e,"change",v),d(c,"click",w)]},m(o,u){l(o,t,u),i(t,e),p(e,n.line),i(t,r),i(t,c),b.m(c,null),i(t,g)},p(t,o){n=o,t.lines&&e.value!==n.line&&p(e,n.line),_!==(_=y(0,n))&&(b.d(1),(b=_(n))&&(b.c(),b.m(c,null))),t.shown&&a!==(a="form-control btn "+(n.shown===n.i?"btn-danger":"btn-primary")+" control-button svelte-12wxbio")&&h(c,"class",a)},d(n){n&&u(t),b.d(),o($)}}}function U(t){var e;let o=t.lines,r=[];for(let n=0;n<o.length;n+=1)r[n]=R(J(t,o,n));return{c(){e=s("div");for(let n=0;n<r.length;n+=1)r[n].c();h(e,"class","")},m(n,t){l(n,e,t);for(let n=0;n<r.length;n+=1)r[n].m(e,null)},p(n,t){if(n.shown||n.lines){let c;for(o=t.lines,c=0;c<o.length;c+=1){const i=J(t,o,c);r[c]?r[c].p(n,i):(r[c]=R(i),r[c].c(),r[c].m(e,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},i:n,o:n,d(n){n&&u(e),function(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}(r,n)}}}function q(n,t,e){let o=[1,2,3,4],r=-1;var c;function i(n){e("shown",r=r===n?-1:n),j({shown:r,line1:o[n],show:r>=0})}function l(){e("lines",o=[...o.filter(n=>n),""])}function u(n){console.log(n),n.hasOwnProperty("lines")&&(e("lines",o=n.lines),l()),n.hasOwnProperty("shown")&&e("shown",r=n.shown)}function s(n){let t={lines:o};r===n&&(t.line1=o[n]),j(t),l()}c=(async()=>{A(u)}),m().$$.on_mount.push(c),function(n){m().$$.on_destroy.push(n)}(async()=>{B=!1,W=!0,T.close()}),l();return{lines:o,shown:r,toggleLine:i,changeLine:s,input_input_handler:function({line:n,each_value:t,i:r}){t[r]=this.value,e("lines",o)},change_handler:({i:n},t)=>s(n),click_handler:({i:n},t)=>i(n)}}return new class extends I{constructor(n){super(),N(this,n,q,U,c,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
